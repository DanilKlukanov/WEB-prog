<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
        <title>
            jq
        </title>
        <style type="text/css">
            li {
                cursor:pointer;
            }
        </style>
    </head>

    <body>     
        <script>
            let mass = [
                {
                    text: "Животные",
                    childs: [
                        {
                            text: "Млекопитающие",
                            childs: [
                                {
                                    text: "Коровы",    
                                    childs: []
                                },
                                {
                                    text: "Ослы",    
                                    childs: []
                                },
                                {
                                    text: "Собаки",    
                                    childs: []
                                },
                                {
                                    text: "Тигры",    
                                    childs: []    
                                }
                            ]        
                        },
                        {
                            text: "Другие",
                            childs: [
                                {
                                    text: "Ослы",    
                                    childs: []
                                },
                                {
                                    text: "Собаки",    
                                    childs: []
                                },
                                {
                                    text: "Тигры",    
                                    childs: []
                                }    
                            ]   
                        }    
                    ]
                },
                {
                    text: "Рыбы",
                    childs: [
                        {
                            text: "Аквариумные",
                            childs: [
                                {
                                    text: "Гуппи",
                                    childs: []
                                },
                                {
                                    text: "Скалярии",
                                    childs: []
                                }
                            ]
                        },
                        {
                            text: "Морские",
                            childs: [
                                {
                                    text: "Морская форель",
                                    childs: []
                                }
                            ]
                        }    
                    ]
                }
            ];
            function create_list(mass) {
                let ul = $('<ul>');
                for (ch of mass) {
                    let li = $('<li>');
                    li.append(ch.text);
                    if (ch.childs != []) {
                        li.append(create_list(ch.childs));
                    }
                li.on('click', function () {
                    $(this.firstElementChild).slideToggle(500);
                    return false
                })
                ul.append(li);
                }
                return ul;
            }
            $('body').append(create_list(mass));
        
            $('li').each(function(){
                var fuf = $(this).clone().children('ul').end();
                console.log("Текст: " + fuf.text() + "\r\nКолличество: " + $(this).find('li').length);
            })
        </script>
    </body>
</html>
